<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[[FREE:TITLE:MAIN]]</title>
  <script>
    const params = new URLSearchParams(document.location.search);
    const order = params.get("order");
    if (order !== "reverse") {
      params.append("order", "reverse");
      const redirectTo = location.pathname + "?" + params.toString();
      location.href = redirectTo;
    }
  </script>
  <link href="./style.css?5" rel="stylesheet" />
  [[JS:LIGHTBOX:JQ]]
</head>

<body>
  <header>
    <a href="/home" class="prev">
      <svg width="24px" height="24px" viewBox="-19.04 0 75.803 75.803" title="戻る">
        <g id="Group_64" data-name="Group 64" transform="translate(-624.082 -383.588)">
          <path id="Path_56" data-name="Path 56"
            d="M660.313,383.588a1.5,1.5,0,0,1,1.06,2.561l-33.556,33.56a2.528,2.528,0,0,0,0,3.564l33.556,33.558a1.5,1.5,0,0,1-2.121,2.121L625.7,425.394a5.527,5.527,0,0,1,0-7.807l33.556-33.559A1.5,1.5,0,0,1,660.313,383.588Z"
            fill="#333" />
        </g>
      </svg>
    </a>
    <div class="about">
      <h1>[[FREE:TITLE:MAIN]]</h1>
      <span class="description">[[FREE:DESCRIPTION]]</span>
    </div>
    <a href="[[ADMIN:URL]]" class="admin Login-Required">管理画面へ</a>
  </header>
  <main style="visibility: hidden">[[TEGALOG]]</main>
  <footer>
    [[QUICKPOST]]
    <small class="copyright">[[VERSION]]</small>
  </footer>
  <script>
    // 末尾までスクロール
    const element = document.querySelector("main .post:last-child");
    element.scrollIntoView();

    // スクロールが終わってから表示する
    const main = document.querySelector("main");
    main.style.visibility = "";
  </script>
  <script>
    const postform = document.querySelector(".postform");
    document.querySelector(".tegalogpost")?.addEventListener("focus", () => {
      postform?.classList.add("active");
    });
    document.querySelector(".tegalogpost")?.addEventListener("click", () => {
      postform?.classList.add("active");
    });
    document.querySelector("main")?.addEventListener("scroll", () => {
      postform?.classList.remove("active");
    });
    document.querySelector("main")?.addEventListener("click", () => {
      postform?.classList.remove("active");
    });
  </script>
</body>

</html>
